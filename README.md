# Apple Find 크롬 확장프로그램

## 주요 기능

- 현재 화면을 캡쳐
- 이미지 전처리
- ~~GEMINI API를 이용하여 빨간 사과 안의 파란 숫자 인식~~
  - AI로 부터 응답을 받기까지 시간이 걸림
- ~~OCR(tesseract)를 이용하여 빨간 사과 안의 파란 숫자 인식~~
  - 브라우저 정책상 이용 불가
- 빨간 사과 안의 파란 숫자 인식(정해진 패턴과 비교)
- 인접한 숫자들의 합이 10인 조합 탐색 및 강조

## 고도화 요건

- **향상된 조합 찾기**: 인식된 숫자들 중 인접한 **2개 이상의 숫자들**의 총 합이 10이 되는 모든 조합을 찾습니다.
  - 인접한 숫자 기준: 각 숫자의 경계 상자가 서로 충분히 가까운 경우 (상하좌우 및 대각선 포함).
  - 조합 예시: 1+2+3+4=10, 5+5=10, 1+9=10.
- **결과 시각화 및 상호작용**:
  - **팝업 내 다색상 강조**: 발견된 각기 다른 숫자 조합을 확장 기능 팝업 내 분석 캔버스에 고유한 색상으로 표시하여 시각적으로 구분합니다.
  - **웹페이지 직접 다색상 강조**: 실제 웹페이지의 해당 숫자 위치에 조합별로 여러 색상의 외곽선을 사용하여 직접 강조 표시합니다.
  - **웹페이지 강조 상호작용**: 웹페이지에 표시된 강조 영역을 클릭하면, 해당 조합의 모든 숫자 영역이 더욱 두드러지게 표시되고 (예: 외곽선 두께 증가, 반투명 배경색 추가), 다른 조합의 강조는 기본 상태로 돌아갑니다. 동일 조합을 다시 클릭하면 강조 효과가 해제됩니다.

## 개발 진행 상황

- [x] 크롬 확장프로그램 기본 구조
- [x] 화면 캡쳐 및 미리보기 기능
- [x] 빨간 사과 영역 내 숫자 인식 (패턴 비교 방식)
- [x] 고급 조합 탐색: 합계가 10이 되는 인접한 숫자 그룹(2개 이상) 찾기 (DFS 기반)
- [x] 팝업 내 조합 강조: 각기 다른 색상으로 팝업 캔버스에 조합 표시
- [x] 웹페이지에 조합 강조: 실제 웹페이지에 각기 다른 색상으로 조합 영역 표시 (스크롤 위치 자동 보정)
- [x] 웹페이지 강조 상호작용: 웹페이지에서 강조된 조합 클릭 시 해당 조합 추가 강조/해제 기능
- [x] 핵심 로직 (조합 찾기, 인접 판단) 분리 및 단위 테스트 작성 (Jest 사용)

## 상세 기능

- **향상된 조합 찾기**: 단순 두 숫자 조합뿐 아니라, 셋 이상의 인접한 숫자 그룹이 합쳐져 10이 되는 경우도 효과적으로 찾아냅니다 (예: 1+2+3+4). 깊이 우선 탐색(DFS) 알고리즘을 사용하여 모든 유효한 조합을 탐색합니다.
- **다색상 강조 (팝업)**: 확장 기능 팝업 내 결과 분석 화면에서 각기 다른 숫자 조합을 고유한 색상으로 표시하여 구분을 용이하게 합니다. 이를 통해 사용자는 여러 조합을 한눈에 파악할 수 있습니다.
- **웹페이지 직접 강조**: 분석된 숫자 조합의 위치에 해당하는 영역을 실제 웹페이지 상에 직접 여러 색상의 외곽선으로 표시합니다. 이 표시는 페이지 스크롤 위치를 자동으로 감안하여 정확한 위치에 나타나므로, 사용자가 스크롤을 하더라도 강조 영역이 숫자와 함께 움직이는 것처럼 보입니다.
- **상호작용 강조 (웹페이지)**: 웹페이지에 표시된 강조 영역은 클릭 가능합니다. 특정 조합의 강조 영역을 클릭하면 해당 조합의 모든 숫자 영역이 더욱 두드러지게 표시되며 (예: 외곽선 두꺼워짐, 해당 조합 색상의 반투명 배경 추가), 다른 조합의 강조는 기본 상태로 돌아갑니다. 다시 클릭하면 강조 효과가 해제되어 여러 조합을 차례대로 살펴보기 편리합니다.
- **단위 테스트**: 조합 찾기 및 인접 판단 로직에 대해 Jest를 사용한 단위 테스트를 작성하여 코드의 안정성과 정확성을 확보했습니다.

## 사용법

1. 크롬 브라우저에서 확장프로그램을 설치합니다.
2. 분석하고자 하는 웹페이지를 엽니다.
3. 브라우저 툴바에서 'Apple Find' 확장 아이콘을 클릭합니다.
4. 팝업창이 나타나면 '현재 화면 캡쳐 및 분석' 버튼을 클릭합니다.
5. 잠시 후 팝업창에는 분석 결과(인식된 숫자, 조합 등)가 표시되고, 원본 웹페이지에는 감지된 조합들이 강조 표시됩니다.
6. 웹페이지에 강조된 조합을 클릭하여 특정 조합을 더 자세히 확인할 수 있습니다.
